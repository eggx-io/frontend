<app-navbar></app-navbar>
<h1 class="page-title">Events</h1>
<div class="content">
  <div class="list">
    <div class="event bg-secondary-light" *ngFor="let event of events$ | async">
      <h2>{{event.title}}</h2>
      <p class="blurb">{{event.blurb}}</p>
      <div class="schedule">
        <i class="material-icons color-teal">event</i>
        <span>{{event.schedule.start | date}}</span>
        <span *ngIf="event.schedule.end != event.schedule.start">
          &mdash;
          <span>{{event.schedule.end | date}}</span>
        </span>
      </div>
      <div class="bottom">
        <button class="btn-primary" (click)="popupEvent = event">
          Show more
        </button>
        <span [ngClass]="['event-type', getEventTypeClass(event.type)]">{{event.type}}</span>
      </div>
    </div>
  </div>
  <div class="search">
    <div class="form">
      <h3>Filter events</h3>
      <label>Event Type</label>
      <div class="group">
        <input class="btn-primary" (click)="toggleTypeFilter('event')" [ngClass]="{'pressed': typeIsFiltered('event')}" type="button" value="General" />
        <input class="btn-primary" (click)="toggleTypeFilter('sponsored')" [ngClass]="{'pressed': typeIsFiltered('sponsored')}" type="button" value="Sponsored" />
        <input class="btn-primary" (click)="toggleTypeFilter('workshop')" [ngClass]="{'pressed': typeIsFiltered('workshop')}" type="button" value="Workshops" />
      </div>
      <label>Date</label>
      <div class="list">
        <div class="item">
          <label for="dateFrom">From: </label>
          <input id="dateFrom" type="date">
        </div>
      </div>
    </div>
    <!--
      type
      schedule
      people
     -->
  </div>
</div>
<div id="infoPopup" (click)="popupEvent = null" class="popup" *ngIf="popupEvent">
  <div class="info-popup" (click)="$event.stopPropagation()">
    <div class="body">
      <div class="header">
        <div class="title">
          <h1>{{popupEvent.title}}</h1>
          <div class="schedule">
            <i class="material-icons color-teal">event</i>
            <span>{{popupEvent.schedule.start | date}}</span>
            <span *ngIf="popupEvent.schedule.end != popupEvent.schedule.start">
              &mdash;
              <span>{{popupEvent.schedule.end | date}}</span>
            </span>
          </div>
        </div>
        <button class="btn-primary" (click)="popupEvent = null">
          <i class="material-icons">close</i>
          Close
        </button>
      </div>
      <div class="text">{{popupEvent.description}}</div>
    </div>
  </div>
  <div class="dismiss">
    <button (click)="popupEvent = null">Close</button>
  </div>
</div>
<app-footer></app-footer>
